{"version":3,"sources":["redux/type/typeAction.js","redux/reducers/reducer.js","components/preloader/preloader.js","components/errorRequest/errorRequest.js","redux/actionCreator/actionCreator.js","redux/asyncActionCreators/acyncActionCreators.js","service/service.js","components/listPockemon/listPockemon.js","components/pockemonDetails/pockemonDetails.js","App.js","index.js"],"names":["GETPOCKEMONLIST","ERRORREQUEST","GETDETAILSPOCKEMON","LOADERON","initialState","listPockemon","loading","errorRequest","detailsPockemon","reducer","state","action","type","data","allIdListPokemon","reduce","item","obj","id","push","allId","Preloader","className","role","ErrorRequest","loaderOn","service","a","fetch","json","resultListPockemon","Promise","reject","resultDetailsPockoemon","enterApp","dispatch","getListPockemon","then","res","cards","catch","err","getDetailsPockemon","card","connect","withRouter","props","useEffect","onClick","map","idx","history","name","pockemon","match","params","src","imageUrlHiRes","alt","artist","hp","App","exact","path","render","store","createStore","applyMiddleware","thunk","ReactDOM","StrictMode","document","getElementById"],"mappings":"qNAAaA,EAAkB,kBAClBC,EAAe,eACfC,EAAqB,qBACrBC,EAAW,WCElBC,EAAe,CACnBC,aAAc,KACdC,SAAS,EACTC,cAAc,EACdC,gBAAiB,MA6CJC,MA1Cf,WAAgD,IAA/BC,EAA8B,uDAAtBN,EAAcO,EAAQ,uCAC7C,OAAQA,EAAOC,MACb,KAAKZ,EAAL,IACUa,EAASF,EAATE,KACFC,EAAmB,GACnBT,EAAeQ,EAAKE,QAAO,SAACC,EAAMC,GAGtC,OAFAD,EAAKC,EAAIC,IAAMD,EACfH,EAAiBK,KAAKF,EAAIC,IACnBF,IACN,IAEH,OADAX,EAAae,MAAQN,EACd,2BACFJ,GADL,IAEEJ,SAAS,EACTD,iBAGJ,KAAKJ,EACH,OAAO,2BACFS,GADL,IAEEH,cAAc,EACdD,SAAS,IAGb,KAAKJ,EACH,OAAO,2BACFQ,GADL,IAEEJ,SAAS,EACTE,gBAAiBG,EAAOE,OAE5B,KAAKV,EACH,OAAO,2BACFO,GADL,IAEEJ,SAAS,IAEb,QACE,OAAO,eACFI,K,qDCpCIW,EAVG,WAChB,OACE,qBAAKC,UAAU,mDAAf,SACE,qBAAKA,UAAU,iBAAiBC,KAAK,SAArC,SACE,sBAAMD,UAAU,kBAAhB,sECAOE,G,MAJM,WACnB,OAAO,qBAAKF,UAAU,eAAf,kG,yCCOIf,EAAe,WAC1B,MAAO,CACLK,KAAMX,IAWGwB,EAAW,WACtB,MAAO,CACLb,KAAMT,ICrBJuB,EAAU,I,sICJd,8BAAAC,EAAA,+EAE+BC,MAAM,uCAFrC,cAEUvB,EAFV,gBAGqCA,EAAawB,OAHlD,cAGUC,EAHV,yBAIWA,GAJX,2DAMWC,QAAQC,UANnB,0D,6HASA,WAAyBd,GAAzB,iBAAAS,EAAA,+EAEkCC,MAAM,sCAAD,OACKV,IAH5C,cAEUV,EAFV,gBAKyCA,EAAgBqB,OALzD,cAKUI,EALV,yBAOWA,GAPX,2DASWF,QAAQC,UATnB,0D,+DDHWE,EAAW,WACtB,OAAO,SAACC,GACNA,EAASV,KACTC,EACGU,kBACAC,MAAK,SAACC,GAAD,OAASH,GDRWtB,ECQcyB,EAAIC,MDPzC,CACL3B,KAAMZ,EACNa,UAH2B,IAACA,KCSzB2B,OAAM,SAACC,GAAD,OAASN,EAAS5B,UAIlBC,EAAkB,SAACU,GAC9B,OAAO,SAACiB,GACNA,EAASV,KACTC,EACGgB,mBAAmBxB,GACnBmB,MAAK,SAACC,GAAD,OAASH,GDLctB,ECKcyB,EAAIK,KDJ5C,CACL/B,KAAMV,EACNW,UAH8B,IAACA,KCM5B2B,OAAM,SAACC,GAAD,OAASN,EAAS5B,U,OEqChBqC,mBAdf,SAAyBlC,GACvB,MAAO,CACLL,aAAcK,EAAML,aACpBC,QAASI,EAAMJ,QACfC,aAAcG,EAAMH,iBAIxB,SAA4B4B,GAC1B,MAAO,CACLD,SAAU,kBAAMC,EAASD,SAIdU,CAGbC,aAvDmB,SAACC,GAAW,IACvBZ,EAAkDY,EAAlDZ,SAAU7B,EAAwCyC,EAAxCzC,aAAcC,EAA0BwC,EAA1BxC,QAASC,EAAiBuC,EAAjBvC,aAEzC,OADAwC,qBAAU,kBAAMb,MAAY,IACxB5B,EAAgB,cAAC,EAAD,IACRC,EACV,cAAC,EAAD,IAEA,sBAAKe,UAAU,gBAAf,UACE,wBACE0B,QAAS,WACPd,KAEFtB,KAAK,SACLU,UAAU,kBALZ,8DASA,6BACGjB,EAAae,MAAM6B,KAAI,SAACC,GACvB,OACE,oBAEEF,QAAS,kBAAMF,EAAMK,QAAQhC,KAAd,4BAAwC+B,KAFzD,SAIE,qBAAK5B,UAAU,kBAAf,SACE,qBAAKA,UAAU,YAAf,SACE,mBAAGA,UAAU,YAAb,SAA0BjB,EAAa6C,GAAKE,YAL3CF,eC2CJN,mBAff,SAAyBlC,GACvB,MAAO,CACLJ,QAASI,EAAMJ,QACfC,aAAcG,EAAMH,aACpB8C,SAAU3C,EAAMF,oBAIpB,SAA4B2B,GAC1B,MAAO,CACL3B,gBAAiB,SAACU,GAAD,OAAQiB,EAAS3B,EAAgBU,KAClDgB,SAAU,kBAAMC,EAASD,SAIdU,CAGbC,aAhEsB,SAACC,GAAW,IAC1BtC,EAA+DsC,EAA/DtC,gBAAiBF,EAA8CwC,EAA9CxC,QAASC,EAAqCuC,EAArCvC,aAAc8C,EAAuBP,EAAvBO,SAAUnB,EAAaY,EAAbZ,SAK1D,OAHAa,qBAAU,WACRvC,EAAgBsC,EAAMQ,MAAMC,OAAOrC,MAClC,IACCZ,IAAY+C,EAAiB,cAAC,EAAD,IACrB9C,EACV,cAAC,EAAD,IAEA,sBAAKe,UAAU,YAAf,UACE,wBACE0B,QAAS,WACPF,EAAMK,QAAQhC,KAAK,cACnBe,KAEFtB,KAAK,SACLU,UAAU,kBANZ,0GAUA,wBACE0B,QAAS,kBAAMxC,EAAgBsC,EAAMQ,MAAMC,OAAOrC,KAClDN,KAAK,SACLU,UAAU,kBAHZ,8DAOA,sBAAKA,UAAU,OAAf,UACE,qBACEkC,IAAKH,EAASI,cACdnC,UAAU,eACVoC,IAAI,qDAEN,sBAAKpC,UAAU,YAAf,UACE,qBAAIA,UAAU,aAAd,iCAAiC+B,EAASD,QAC1C,qBAAI9B,UAAU,aAAd,mDAAoC+B,EAASM,UAC7C,oBAAGrC,UAAU,YAAb,iBAA8B+B,EAASnC,MACvC,oBAAGI,UAAU,YAAb,iBAA8B+B,EAASO,mBChClCC,EAZH,WACV,OACE,sBAAKvC,UAAU,MAAf,UACE,cAAC,IAAD,CAAOwC,OAAK,EAACC,KAAK,aAAaC,OAAQ,kBAAM,cAAC,EAAD,OAC7C,cAAC,IAAD,CACED,KAAK,wBACLC,OAAQ,kBAAM,cAAC,EAAD,WCFhBC,EAAQC,YAAYzD,EAAS0D,YAAgBC,MACnDC,IAASL,OACP,cAAC,IAAMM,WAAP,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAUL,MAAOA,EAAjB,SACE,cAAC,EAAD,UAINM,SAASC,eAAe,W","file":"static/js/main.2fb8af83.chunk.js","sourcesContent":["export const GETPOCKEMONLIST = \"GETPOCKEMONLIST\";\r\nexport const ERRORREQUEST = \"ERRORREQUEST\";\r\nexport const GETDETAILSPOCKEMON = \"GETDETAILSPOCKEMON\";\r\nexport const LOADERON = \"LOADERON\";\r\n","import { GETPOCKEMONLIST } from \"../type/typeAction\";\r\nimport { ERRORREQUEST } from \"../type/typeAction\";\r\nimport { GETDETAILSPOCKEMON } from \"../type/typeAction\";\r\nimport { LOADERON } from \"../type/typeAction\";\r\n\r\nconst initialState = {\r\n  listPockemon: null,\r\n  loading: true,\r\n  errorRequest: false,\r\n  detailsPockemon: null,\r\n};\r\n\r\nfunction reducer(state = initialState, action) {\r\n  switch (action.type) {\r\n    case GETPOCKEMONLIST:\r\n      const { data } = action;\r\n      const allIdListPokemon = [];\r\n      const listPockemon = data.reduce((item, obj) => {\r\n        item[obj.id] = obj;\r\n        allIdListPokemon.push(obj.id);\r\n        return item;\r\n      }, {});\r\n      listPockemon.allId = allIdListPokemon;\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        listPockemon,\r\n      };\r\n\r\n    case ERRORREQUEST:\r\n      return {\r\n        ...state,\r\n        errorRequest: true,\r\n        loading: false,\r\n      };\r\n\r\n    case GETDETAILSPOCKEMON:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        detailsPockemon: action.data,\r\n      };\r\n    case LOADERON:\r\n      return {\r\n        ...state,\r\n        loading: true,\r\n      };\r\n    default:\r\n      return {\r\n        ...state,\r\n      };\r\n  }\r\n}\r\n\r\nexport default reducer;\r\n","import React from \"react\";\r\nimport \"./preloader.css\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"d-flex justify-content-center align-items-center\">\r\n      <div className=\"spinner-border\" role=\"status\">\r\n        <span className=\"visually-hidden\">Загрузка...</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import React from \"react\";\r\nimport \"./errorRequest.css\";\r\n\r\nconst ErrorRequest = () => {\r\n  return <div className=\"errorRequest\">Упс что то не так</div>;\r\n};\r\n\r\nexport default ErrorRequest;\r\n","import { GETPOCKEMONLIST } from \"../type/typeAction\";\r\nimport { ERRORREQUEST } from \"../type/typeAction\";\r\nimport { GETDETAILSPOCKEMON } from \"../type/typeAction\";\r\nimport { LOADERON } from \"../type/typeAction\";\r\nexport const getListPockemon = (data) => {\r\n  return {\r\n    type: GETPOCKEMONLIST,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const errorRequest = () => {\r\n  return {\r\n    type: ERRORREQUEST,\r\n  };\r\n};\r\n\r\nexport const getDetailsPockemon = (data) => {\r\n  return {\r\n    type: GETDETAILSPOCKEMON,\r\n    data,\r\n  };\r\n};\r\n\r\nexport const loaderOn = () => {\r\n  return {\r\n    type: LOADERON,\r\n  };\r\n};\r\n","import Service from \"../../service/service\";\r\nimport { getListPockemon, loaderOn } from \"../actionCreator/actionCreator\";\r\nimport { errorRequest } from \"../actionCreator/actionCreator\";\r\nimport { getDetailsPockemon } from \"../actionCreator/actionCreator\";\r\n\r\nconst service = new Service();\r\n\r\nexport const enterApp = () => {\r\n  return (dispatch) => {\r\n    dispatch(loaderOn());\r\n    service\r\n      .getListPockemon()\r\n      .then((res) => dispatch(getListPockemon(res.cards)))\r\n      .catch((err) => dispatch(errorRequest()));\r\n  };\r\n};\r\n\r\nexport const detailsPockemon = (id) => {\r\n  return (dispatch) => {\r\n    dispatch(loaderOn());\r\n    service\r\n      .getDetailsPockemon(id)\r\n      .then((res) => dispatch(getDetailsPockemon(res.card)))\r\n      .catch((err) => dispatch(errorRequest()));\r\n  };\r\n};\r\n","class Service {\r\n  async getListPockemon() {\r\n    try {\r\n      const listPockemon = await fetch(\" https://api.pokemontcg.io/v1/cards\");\r\n      const resultListPockemon = await listPockemon.json();\r\n      return resultListPockemon;\r\n    } catch (error) {\r\n      return Promise.reject();\r\n    }\r\n  }\r\n  async getDetailsPockemon(id) {\r\n    try {\r\n      const detailsPockemon = await fetch(\r\n        `https://api.pokemontcg.io/v1/cards/${id}`\r\n      );\r\n      const resultDetailsPockoemon = await detailsPockemon.json();\r\n\r\n      return resultDetailsPockoemon;\r\n    } catch (error) {\r\n      return Promise.reject();\r\n    }\r\n  }\r\n}\r\n\r\nexport default Service;\r\n","import React from \"react\";\r\nimport Preloader from \"../preloader/preloader\";\r\nimport ErrorRequest from \"../errorRequest/errorRequest\";\r\nimport { useEffect } from \"react\";\r\nimport { enterApp } from \"../../redux/asyncActionCreators/acyncActionCreators\";\r\nimport { connect } from \"react-redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nconst ListPockemon = (props) => {\r\n  const { enterApp, listPockemon, loading, errorRequest } = props;\r\n  useEffect(() => enterApp(), []);\r\n  if (loading) return <Preloader />;\r\n  const app = errorRequest ? (\r\n    <ErrorRequest />\r\n  ) : (\r\n    <div className=\"App container\">\r\n      <button\r\n        onClick={() => {\r\n          enterApp();\r\n        }}\r\n        type=\"button\"\r\n        className=\"btn btn-success\"\r\n      >\r\n        Обновить\r\n      </button>\r\n      <ul>\r\n        {listPockemon.allId.map((idx) => {\r\n          return (\r\n            <li\r\n              key={idx}\r\n              onClick={() => props.history.push(`/pockemon/details/${idx}`)}\r\n            >\r\n              <div className=\"card card-hover\">\r\n                <div className=\"card-body\">\r\n                  <p className=\"card-text\">{listPockemon[idx].name}</p>\r\n                </div>\r\n              </div>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n    </div>\r\n  );\r\n  return app;\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    listPockemon: state.listPockemon,\r\n    loading: state.loading,\r\n    errorRequest: state.errorRequest,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    enterApp: () => dispatch(enterApp()),\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(ListPockemon));\r\n","import React from \"react\";\r\nimport Preloader from \"../preloader/preloader\";\r\nimport ErrorRequest from \"../errorRequest/errorRequest\";\r\nimport { connect } from \"react-redux\";\r\nimport { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport {\r\n  detailsPockemon,\r\n  enterApp,\r\n} from \"../../redux/asyncActionCreators/acyncActionCreators\";\r\n\r\nconst PockemonDetails = (props) => {\r\n  const { detailsPockemon, loading, errorRequest, pockemon, enterApp } = props;\r\n\r\n  useEffect(() => {\r\n    detailsPockemon(props.match.params.id);\r\n  }, []);\r\n  if (loading || !pockemon) return <Preloader />;\r\n  const app = errorRequest ? (\r\n    <ErrorRequest />\r\n  ) : (\r\n    <div className=\"container\">\r\n      <button\r\n        onClick={() => {\r\n          props.history.push(\"/pockemons\");\r\n          enterApp();\r\n        }}\r\n        type=\"button\"\r\n        className=\"btn btn-success\"\r\n      >\r\n        Вернутся к списку\r\n      </button>\r\n      <button\r\n        onClick={() => detailsPockemon(props.match.params.id)}\r\n        type=\"button\"\r\n        className=\"btn btn-success\"\r\n      >\r\n        Обновить\r\n      </button>\r\n      <div className=\"card\">\r\n        <img\r\n          src={pockemon.imageUrlHiRes}\r\n          className=\"card-img-top\"\r\n          alt=\"картинка\"\r\n        />\r\n        <div className=\"card-body\">\r\n          <h5 className=\"card-title\">Имя :{pockemon.name}</h5>\r\n          <h6 className=\"card-title\">Артист: {pockemon.artist}</h6>\r\n          <p className=\"card-text\">id: {pockemon.id}</p>\r\n          <p className=\"card-text\">hp: {pockemon.hp}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n  return app;\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n  return {\r\n    loading: state.loading,\r\n    errorRequest: state.errorRequest,\r\n    pockemon: state.detailsPockemon,\r\n  };\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch) {\r\n  return {\r\n    detailsPockemon: (id) => dispatch(detailsPockemon(id)),\r\n    enterApp: () => dispatch(enterApp()),\r\n  };\r\n}\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  mapDispatchToProps\r\n)(withRouter(PockemonDetails));\r\n","import \"./App.css\";\nimport ListPockemon from \"./components/listPockemon/listPockemon\";\nimport PockemonDetails from \"./components/pockemonDetails/pockemonDetails\";\nimport { Route } from \"react-router-dom\";\n\nconst App = () => {\n  return (\n    <div className=\"App\">\n      <Route exact path=\"/pockemons\" render={() => <ListPockemon />}></Route>\n      <Route\n        path=\"/pockemon/details/:id\"\n        render={() => <PockemonDetails />}\n      ></Route>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport reducer from \"./redux/reducers/reducer\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter } from \"react-router-dom\";\nimport App from \"./App\";\n\nconst store = createStore(reducer, applyMiddleware(thunk));\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <Provider store={store}>\n        <App />\n      </Provider>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}