(this.webpackJsonppokemon=this.webpackJsonppokemon||[]).push([[0],{36:function(e,t,n){},37:function(e,t,n){},39:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(15),s=n.n(a),o=n(8),i="GETPOCKEMONLIST",u="ERRORREQUEST",l="GETDETAILSPOCKEMON",d="LOADERON",j={listPockemon:null,loading:!0,errorRequest:!1,detailsPockemon:null};var b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case i:var n=t.data,c=[],r=n.reduce((function(e,t){return e[t.id]=t,c.push(t.id),e}),{});return r.allId=c,Object(o.a)(Object(o.a)({},e),{},{loading:!1,listPockemon:r});case u:return Object(o.a)(Object(o.a)({},e),{},{errorRequest:!0,loading:!1});case l:return Object(o.a)(Object(o.a)({},e),{},{loading:!1,detailsPockemon:t.data});case d:return Object(o.a)(Object(o.a)({},e),{},{loading:!0});default:return Object(o.a)({},e)}},p=n(13),O=n(24),m=n(10),h=n(11),f=(n(36),n(37),n(1)),x=function(){return Object(f.jsx)("div",{className:"d-flex justify-content-center align-items-center",children:Object(f.jsx)("div",{className:"spinner-border",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})})},v=(n(39),function(){return Object(f.jsx)("div",{className:"errorRequest",children:"\u0423\u043f\u0441 \u0447\u0442\u043e \u0442\u043e \u043d\u0435 \u0442\u0430\u043a"})}),k=n(14),g=n.n(k),N=n(20),y=n(26),P=n(27),R=function(){return{type:u}},E=function(){return{type:d}},q=new(function(){function e(){Object(y.a)(this,e)}return Object(P.a)(e,[{key:"getListPockemon",value:function(){var e=Object(N.a)(g.a.mark((function e(){var t,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(" https://api.pokemontcg.io/v1/cards");case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getDetailsPockemon",value:function(){var e=Object(N.a)(g.a.mark((function e(t){var n,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.pokemontcg.io/v1/cards/".concat(t));case 3:return n=e.sent,e.next=6,n.json();case 6:return c=e.sent,e.abrupt("return",c);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",Promise.reject());case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),w=function(){return function(e){e(E()),q.getListPockemon().then((function(t){return e((n=t.cards,{type:i,data:n}));var n})).catch((function(t){return e(R())}))}},A=function(e){return function(t){t(E()),q.getDetailsPockemon(e).then((function(e){return t((n=e.card,{type:l,data:n}));var n})).catch((function(e){return t(R())}))}},C=n(3);var I=Object(m.b)((function(e){return{listPockemon:e.listPockemon,loading:e.loading,errorRequest:e.errorRequest}}),(function(e){return{enterApp:function(){return e(w())}}}))(Object(C.e)((function(e){var t=e.enterApp,n=e.listPockemon,r=e.loading,a=e.errorRequest;return Object(c.useEffect)((function(){return t()}),[]),r?Object(f.jsx)(x,{}):a?Object(f.jsx)(v,{}):Object(f.jsxs)("div",{className:"App container",children:[Object(f.jsx)("button",{onClick:function(){t()},type:"button",className:"btn btn-success",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(f.jsx)("ul",{children:n.allId.map((function(t){return Object(f.jsx)("li",{onClick:function(){return e.history.push("/pockemon/details/".concat(t))},children:Object(f.jsx)("div",{className:"card card-hover",children:Object(f.jsx)("div",{className:"card-body",children:Object(f.jsx)("p",{className:"card-text",children:n[t].name})})})},t)}))})]})})));var L=Object(m.b)((function(e){return{loading:e.loading,errorRequest:e.errorRequest,pockemon:e.detailsPockemon}}),(function(e){return{detailsPockemon:function(t){return e(A(t))},enterApp:function(){return e(w())}}}))(Object(C.e)((function(e){var t=e.detailsPockemon,n=e.loading,r=e.errorRequest,a=e.pockemon,s=e.enterApp;return Object(c.useEffect)((function(){t(e.match.params.id)}),[]),n||!a?Object(f.jsx)(x,{}):r?Object(f.jsx)(v,{}):Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("button",{onClick:function(){e.history.push("/pockemons"),s()},type:"button",className:"btn btn-success",children:"\u0412\u0435\u0440\u043d\u0443\u0442\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443"}),Object(f.jsx)("button",{onClick:function(){return t(e.match.params.id)},type:"button",className:"btn btn-success",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),Object(f.jsxs)("div",{className:"card",children:[Object(f.jsx)("img",{src:a.imageUrlHiRes,className:"card-img-top",alt:"\u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}),Object(f.jsxs)("div",{className:"card-body",children:[Object(f.jsxs)("h5",{className:"card-title",children:["\u0418\u043c\u044f :",a.name]}),Object(f.jsxs)("h6",{className:"card-title",children:["\u0410\u0440\u0442\u0438\u0441\u0442: ",a.artist]}),Object(f.jsxs)("p",{className:"card-text",children:["id: ",a.id]}),Object(f.jsxs)("p",{className:"card-text",children:["hp: ",a.hp]})]})]})]})}))),T=function(){return Object(f.jsxs)("div",{className:"App",children:[Object(f.jsx)(C.a,{exact:!0,path:"/pockemons",render:function(){return Object(f.jsx)(I,{})}}),Object(f.jsx)(C.a,{path:"/pockemon/details/:id",render:function(){return Object(f.jsx)(L,{})}})]})},D=Object(p.c)(b,Object(p.a)(O.a));s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(h.a,{children:Object(f.jsx)(m.a,{store:D,children:Object(f.jsx)(T,{})})})}),document.getElementById("root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.2fb8af83.chunk.js.map